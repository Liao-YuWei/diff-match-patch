<html>
  <head>
    <script src="diff_match_patch.js"></script>
    <script src="line_diff.js"></script>
    <script src="render.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <input type="file" name="input1" id="input1">
    <br>
    <input type="file" name="input2" id="input2">
    <br>

    <button type="button" onclick="launchDiff()"> Compute Diff </button>

    <pre id="output1"></pre>
    <pre id="output2"></pre>

    <h2>Result</h2>
    <h5 id="diffSpeed"></h5>
    <p id="result"></p>

    <table width="100%"><tr>
      <td width="50%">
        <h3>Original File</h3>
        <div id="originalFile" style="width: 100%"></div>
      </td>
      <td width="50%">
        <h3>New File</h3>
        <div id="newFile" style="width: 100%"></div>
      </td>
    </tr>
    </table>

    <div id="svgResult">
      <!-- <svg width="600" height="400"></svg> -->
    </div>
    

    <script>
      // Intialized input strings
      var text1 = {str: ``};
      var text2 = {str: ``};
      // const text1 = `Hello\nWorld\nThis is a test\n`;
      // const text2 = `Hello\nWorld\nThis is another test\n`;

      // Read file from local txt
      readFile("input1", "output1", text1);
      readFile("input2", "output2", text2);

      // // Diff
      // const dmp = new diff_match_patch();
      
      // var diff = computeLineDiff(dmp, text1, text2);

      // // Print diff in control panel
      // console.log(diff);
      // console.log("Differences:");
      // diff.forEach(function(d) {
      //   console.log(d[0], d[1]);
      // });

      // // Render HTML on browser
      // var diffhtml = dmp.diff_prettyHtml(diff);
      // document.getElementById("result").innerHTML = diffhtml;
    </script>
  </body>
</html>